import{e as v,f as y,aq as h,h as i,j as C,C as T,N as u,w as d,i as _,x as A,ar as w,as as N,at as E,au as S,T as F,av as M,p as b}from"./BeYMcFNd.js";function D(e,s){let r=null,t=i;var n;if(i){r=A;for(var o=C(document.head);o!==null&&(o.nodeType!==T||o.data!==e);)o=u(o);if(o===null)d(!1);else{var a=u(o);o.remove(),_(a)}}i||(n=document.head.appendChild(v()));try{y(()=>s(n),h)}finally{t&&(d(!0),_(r))}}const g=[...` 	
\r\f \v\uFEFF`];function H(e,s,r){var t=e==null?"":""+e;if(s&&(t=t?t+" "+s:s),r){for(var n in r)if(r[n])t=t?t+" "+n:n;else if(t.length)for(var o=n.length,a=0;(a=t.indexOf(n,a))>=0;){var c=a+o;(a===0||g.includes(t[a-1]))&&(c===t.length||g.includes(t[c]))?t=(a===0?"":t.substring(0,a))+t.substring(c+1):a=c}}return t===""?null:t}function U(e,s){return e==null?null:String(e)}const x=Symbol("is custom element"),O=Symbol("is html");function q(e){if(i){var s=!1,r=()=>{if(!s){if(s=!0,e.hasAttribute("value")){var t=e.value;p(e,"value",null),e.value=t}if(e.hasAttribute("checked")){var n=e.checked;p(e,"checked",null),e.checked=n}}};e.__on_r=r,F(r),M()}}function p(e,s,r,t){var n=L(e);i&&(n[s]=e.getAttribute(s),s==="src"||s==="srcset"||s==="href"&&e.nodeName==="LINK")||n[s]!==(n[s]=r)&&(s==="loading"&&(e[E]=r),r==null?e.removeAttribute(s):typeof r!="string"&&j(e).includes(s)?e[s]=r:e.setAttribute(s,r))}function L(e){return e.__attributes??={[x]:e.nodeName.includes("-"),[O]:e.namespaceURI===w}}var m=new Map;function j(e){var s=e.getAttribute("is")||e.nodeName,r=m.get(s);if(r)return r;m.set(s,r=[]);for(var t,n=e,o=Element.prototype;o!==n;){t=S(n);for(var a in t)t[a].set&&r.push(a);n=N(n)}return r}const l={temp_units:"C",sg_units:"sg",local_logging_enabled:!0,local_interval_minutes:15,min_rssi:-100,smoothing_enabled:!1,smoothing_samples:5,id_by_mac:!1},f=b({config:l,loaded:!1});async function G(){try{const e=await fetch("/api/config");if(e.ok){const s=await e.json();f.config={...l,...s}}}catch(e){console.error("Failed to load config:",e)}finally{f.loaded=!0}}async function P(e){try{const s=await fetch("/api/config",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(s.ok){const t=await s.json();return f.config={...l,...t},{success:!0}}const r=await s.json();return r.detail&&Array.isArray(r.detail)?{success:!1,error:r.detail.map(n=>n.msg).join(", ")}:{success:!1,error:"Failed to save settings"}}catch(s){return console.error("Failed to update config:",s),{success:!1,error:"Network error saving settings"}}}function k(e){return(e-32)*(5/9)}function R(e,s=f.config.temp_units){return s==="C"?k(e).toFixed(1):e.toFixed(1)}function B(){return f.config.temp_units==="C"?"°C":"°F"}export{H as a,R as b,f as c,k as f,B as g,D as h,G as l,q as r,p as s,U as t,P as u};
