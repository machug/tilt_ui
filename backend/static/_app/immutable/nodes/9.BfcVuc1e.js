import{d as Ge,f as n,a as o,c as re,s as c}from"../chunks/VJxl01KV.js";import{ag as He,ao as Ve,aq as G,ai as qe,ax as Ne,aj as l,ak as r,s as h,an as M,b as e,ah as Ue,al as Ye,am as s,ar as g}from"../chunks/Clf_rkwX.js";import{i as _}from"../chunks/DNJ1XFdY.js";import{h as Je}from"../chunks/BrdizEQO.js";import{s as Ke,a as Qe}from"../chunks/YBwbO0I4.js";import{g as se}from"../chunks/tboQNckx.js";import{p as We}from"../chunks/ByGG7B_Z.js";import{e as Xe,g as Ze}from"../chunks/BWleEPaN.js";const ea=!1,Ra=Object.freeze(Object.defineProperty({__proto__:null,prerender:ea},Symbol.toStringTag,{value:"Module"}));var aa=n('<div class="loading-state svelte-1r2e3yg"><div class="spinner svelte-1r2e3yg"></div> <p>Loading recipe...</p></div>'),ta=n('<div class="error-state svelte-1r2e3yg"><p class="error-message svelte-1r2e3yg"> </p></div>'),ra=n('<p class="recipe-author svelte-1r2e3yg"> </p>'),sa=n('<p class="recipe-type svelte-1r2e3yg"> </p>'),va=n('<div class="param svelte-1r2e3yg"><span class="param-label svelte-1r2e3yg">Original Gravity</span> <span class="param-value svelte-1r2e3yg"> </span></div>'),la=n('<div class="param svelte-1r2e3yg"><span class="param-label svelte-1r2e3yg">Final Gravity</span> <span class="param-value svelte-1r2e3yg"> </span></div>'),ia=n('<div class="param svelte-1r2e3yg"><span class="param-label svelte-1r2e3yg">ABV</span> <span class="param-value svelte-1r2e3yg"> </span></div>'),oa=n('<div class="param svelte-1r2e3yg"><span class="param-label svelte-1r2e3yg">Attenuation</span> <span class="param-value svelte-1r2e3yg"> </span></div>'),na=n('<p class="yeast-name svelte-1r2e3yg"> </p>'),da=n('<p class="yeast-lab svelte-1r2e3yg"> </p>'),ca=n('<p class="yeast-temp svelte-1r2e3yg"> </p>'),_a=n('<div class="section svelte-1r2e3yg"><h2 class="section-title svelte-1r2e3yg">Yeast</h2> <div class="yeast-info svelte-1r2e3yg"><!> <!> <!></div></div>'),pa=n('<div class="detail svelte-1r2e3yg"><span class="detail-label svelte-1r2e3yg">Batch Size</span> <span class="detail-value svelte-1r2e3yg"> </span></div>'),ga=n('<div class="detail svelte-1r2e3yg"><span class="detail-label svelte-1r2e3yg">IBU</span> <span class="detail-value svelte-1r2e3yg"> </span></div>'),ya=n('<div class="detail svelte-1r2e3yg"><span class="detail-label svelte-1r2e3yg">SRM</span> <span class="detail-value svelte-1r2e3yg"> </span></div>'),ma=n('<div class="section svelte-1r2e3yg"><h2 class="section-title svelte-1r2e3yg">Notes</h2> <p class="notes svelte-1r2e3yg"> </p></div>'),ua=n('<div class="recipe-container svelte-1r2e3yg"><div class="recipe-header svelte-1r2e3yg"><div class="header-left svelte-1r2e3yg"><h1 class="recipe-title svelte-1r2e3yg"> </h1> <!> <!></div> <button type="button" class="delete-btn svelte-1r2e3yg"><svg class="icon svelte-1r2e3yg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg> Delete</button></div> <div class="section svelte-1r2e3yg"><h2 class="section-title svelte-1r2e3yg">Fermentation Parameters</h2> <div class="param-grid svelte-1r2e3yg"><!> <!> <!> <!></div></div> <!> <div class="section svelte-1r2e3yg"><h2 class="section-title svelte-1r2e3yg">Batch Details</h2> <div class="details-grid svelte-1r2e3yg"><!> <!> <!></div></div> <!> <div class="section svelte-1r2e3yg"><p class="created-date svelte-1r2e3yg"> </p></div> <div class="actions svelte-1r2e3yg"><button type="button" class="brew-btn svelte-1r2e3yg"><svg class="icon svelte-1r2e3yg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path></svg> Brew This Recipe</button></div></div>'),fa=n('<div class="modal-overlay svelte-1r2e3yg"><div class="modal svelte-1r2e3yg"><h2 class="modal-title svelte-1r2e3yg">Delete Recipe?</h2> <p class="modal-text svelte-1r2e3yg"> </p> <div class="modal-actions svelte-1r2e3yg"><button type="button" class="modal-btn cancel svelte-1r2e3yg">Cancel</button> <button type="button" class="modal-btn delete svelte-1r2e3yg"> </button></div></div></div>'),ha=n('<div class="page-container svelte-1r2e3yg"><div class="back-link svelte-1r2e3yg"><a href="/recipes" class="back-btn svelte-1r2e3yg"><svg class="back-icon svelte-1r2e3yg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M15 19l-7-7 7-7"></path></svg> Back to Recipes</a></div> <!></div> <!>',1);function Ca(ve,le){He(le,!0);const ie=()=>Qe(We,"$page",oe),[oe,ne]=Ke();let v=M(null),H=M(!0),j=M(null),w=M(!1),$=M(!1),de=Ue(()=>parseInt(ie().params.id??"0",10));Ve(async()=>{try{h(v,await Xe(e(de)),!0)}catch(p){h(j,p instanceof Error?p.message:"Failed to load recipe",!0)}finally{h(H,!1)}});async function ce(){if(e(v)){h($,!0);try{await Ze(e(v).id),se("/recipes")}catch(p){h(j,p instanceof Error?p.message:"Failed to delete recipe",!0),h($,!1),h(w,!1)}}}function _e(){e(v)&&se(`/batches/new?recipe_id=${e(v).id}`)}var V=ha();Je("1r2e3yg",p=>{Ne(()=>{Ye.title=`${(e(v)?.name||"Recipe")??""} | BrewSignal`})});var S=G(V),pe=l(r(S),2);{var ge=p=>{var b=aa();o(p,b)},ye=p=>{var b=re(),F=G(b);{var B=x=>{var f=ta(),k=r(f),D=r(k,!0);s(k),s(f),g(()=>c(D,e(j))),o(x,f)},T=x=>{var f=re(),k=G(f);{var D=R=>{var z=ua(),A=r(z),L=r(A),I=r(L),fe=r(I,!0);s(I);var q=l(I,2);{var he=a=>{var t=ra(),i=r(t);s(t),g(()=>c(i,`by ${e(v).author??""}`)),o(a,t)};_(q,a=>{e(v).author&&a(he)})}var be=l(q,2);{var xe=a=>{var t=sa(),i=r(t,!0);s(t),g(()=>c(i,e(v).type)),o(a,t)};_(be,a=>{e(v).type&&a(xe)})}s(L);var ke=l(L,2);ke.__click=()=>h(w,!0),s(A);var O=l(A,2),N=l(r(O),2),U=r(N);{var we=a=>{var t=va(),i=l(r(t),2),d=r(i,!0);s(i),s(t),g(y=>c(d,y),[()=>e(v).og_target.toFixed(3)]),o(a,t)};_(U,a=>{e(v).og_target&&a(we)})}var Y=l(U,2);{var $e=a=>{var t=la(),i=l(r(t),2),d=r(i,!0);s(i),s(t),g(y=>c(d,y),[()=>e(v).fg_target.toFixed(3)]),o(a,t)};_(Y,a=>{e(v).fg_target&&a($e)})}var J=l(Y,2);{var Fe=a=>{var t=ia(),i=l(r(t),2),d=r(i);s(i),s(t),g(y=>c(d,`${y??""}%`),[()=>e(v).abv_target.toFixed(1)]),o(a,t)};_(J,a=>{e(v).abv_target&&a(Fe)})}var Be=l(J,2);{var De=a=>{var t=oa(),i=l(r(t),2),d=r(i);s(i),s(t),g(y=>c(d,`${y??""}%`),[()=>e(v).yeast_attenuation.toFixed(0)]),o(a,t)};_(Be,a=>{e(v).yeast_attenuation&&a(De)})}s(N),s(O);var K=l(O,2);{var Re=a=>{var t=_a(),i=l(r(t),2),d=r(i);{var y=m=>{var u=na(),C=r(u,!0);s(u),g(()=>c(C,e(v).yeast_name)),o(m,u)};_(d,m=>{e(v).yeast_name&&m(y)})}var te=l(d,2);{var Le=m=>{var u=da(),C=r(u,!0);s(u),g(()=>c(C,e(v).yeast_lab)),o(m,u)};_(te,m=>{e(v).yeast_lab&&m(Le)})}var Ie=l(te,2);{var Oe=m=>{var u=ca(),C=r(u);s(u),g((Pe,Ee)=>c(C,`Temperature: ${Pe??""}-${Ee??""}Â°C`),[()=>e(v).yeast_temp_min.toFixed(0),()=>e(v).yeast_temp_max.toFixed(0)]),o(m,u)};_(Ie,m=>{e(v).yeast_temp_min!==void 0&&e(v).yeast_temp_max!==void 0&&m(Oe)})}s(i),s(t),o(a,t)};_(K,a=>{(e(v).yeast_name||e(v).yeast_temp_min||e(v).yeast_temp_max)&&a(Re)})}var P=l(K,2),Q=l(r(P),2),W=r(Q);{var Ce=a=>{var t=pa(),i=l(r(t),2),d=r(i);s(i),s(t),g(y=>c(d,`${y??""} L`),[()=>e(v).batch_size.toFixed(1)]),o(a,t)};_(W,a=>{e(v).batch_size&&a(Ce)})}var X=l(W,2);{var Me=a=>{var t=ga(),i=l(r(t),2),d=r(i,!0);s(i),s(t),g(y=>c(d,y),[()=>e(v).ibu_target.toFixed(0)]),o(a,t)};_(X,a=>{e(v).ibu_target&&a(Me)})}var je=l(X,2);{var Se=a=>{var t=ya(),i=l(r(t),2),d=r(i,!0);s(i),s(t),g(y=>c(d,y),[()=>e(v).srm_target.toFixed(1)]),o(a,t)};_(je,a=>{e(v).srm_target&&a(Se)})}s(Q),s(P);var Z=l(P,2);{var Te=a=>{var t=ma(),i=l(r(t),2),d=r(i,!0);s(i),s(t),g(()=>c(d,e(v).notes)),o(a,t)};_(Z,a=>{e(v).notes&&a(Te)})}var E=l(Z,2),ee=r(E),ze=r(ee);s(ee),s(E);var ae=l(E,2),Ae=r(ae);Ae.__click=_e,s(ae),s(z),g(a=>{c(fe,e(v).name),c(ze,`Created ${a??""}`)},[()=>new Date(e(v).created_at).toLocaleDateString()]),o(R,z)};_(k,R=>{e(v)&&R(D)},!0)}o(x,f)};_(F,x=>{e(j)?x(B):x(T,!1)},!0)}o(p,b)};_(pe,p=>{e(H)?p(ge):p(ye,!1)})}s(S);var me=l(S,2);{var ue=p=>{var b=fa();b.__click=()=>h(w,!1);var F=r(b);F.__click=R=>R.stopPropagation();var B=l(r(F),2),T=r(B);s(B);var x=l(B,2),f=r(x);f.__click=()=>h(w,!1);var k=l(f,2);k.__click=ce;var D=r(k,!0);s(k),s(x),s(F),s(b),g(()=>{c(T,`Are you sure you want to delete "${e(v)?.name??""}"? This cannot be undone.`),f.disabled=e($),k.disabled=e($),c(D,e($)?"Deleting...":"Delete Recipe")}),o(p,b)};_(me,p=>{e(w)&&p(ue)})}o(ve,V),qe(),ne()}Ge(["click"]);export{Ca as component,Ra as universal};
