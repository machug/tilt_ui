import{p as s}from"./DBUEpBwK.js";const a=s({forecast:[],alerts:[],weather_entity:null,alerts_enabled:!1,loading:!1,loaded:!1});let n=null;async function l(){a.loading=!0;try{const t=await fetch("/api/alerts");if(t.ok){const e=await t.json();a.forecast=e.forecast||[],a.alerts=e.alerts||[],a.weather_entity=e.weather_entity,a.alerts_enabled=e.alerts_enabled,a.loaded=!0}}catch(t){console.error("Failed to load weather:",t)}finally{a.loading=!1}}function c(t=1800*1e3){l(),n&&clearInterval(n),n=setInterval(l,t)}function f(){n&&(clearInterval(n),n=null)}function d(t){return{sunny:"â˜€ï¸","clear-night":"ğŸŒ™",partlycloudy:"â›…",cloudy:"â˜ï¸",rainy:"ğŸŒ§ï¸",pouring:"ğŸŒ§ï¸",snowy:"â„ï¸",fog:"ğŸŒ«ï¸",windy:"ğŸ’¨",lightning:"âš¡","lightning-rainy":"â›ˆï¸",hail:"ğŸŒ¨ï¸"}[t]||"ğŸŒ¡ï¸"}function y(t){try{const e=new Date(t),o=new Date,r=new Date(o);return r.setDate(r.getDate()+1),e.toDateString()===o.toDateString()?"Today":e.toDateString()===r.toDateString()?"Tomorrow":e.toLocaleDateString("en-US",{weekday:"short"})}catch{return"Day"}}export{f as a,y as f,d as g,c as s,a as w};
