import{g as Ja,d as Qa,f as q,a as x,s as F,b as qa}from"../chunks/hWEB2Dyj.js";import{G as Va,av as Sa,f as Xa,aG as Ya,aH as Za,e as Ma,u as ae,aI as ee,aJ as Ta,aK as te,q as re,v as K,ag as se,ao as oe,aw as ne,s as Y,aj as f,b as n,an as ya,ar as D,ai as ie,al as le,ak as o,am as t,ah as Z,aq as ve}from"../chunks/DlOb-_Gl.js";import{e as la,i as va}from"../chunks/DrYgZuka.js";import{B as ce,i as L}from"../chunks/C6MV343X.js";import{h as de}from"../chunks/42hnd-d-.js";import{s as ca}from"../chunks/sGIw1ujw.js";import{s as pe}from"../chunks/DKk6epAh.js";import{s as J}from"../chunks/CqjIVC5T.js";import{s as fe,a as ue}from"../chunks/DqY0EvaW.js";import{p as he}from"../chunks/DDOUjk5B.js";import{c as me,s as _e,d as ge,t as w,a as be}from"../chunks/462MkpFd.js";import{l as ye,c as da,g as xe}from"../chunks/dZIvBOCD.js";import{s as we,w as xa,a as ke,g as wa,f as $e}from"../chunks/JdV-jdQx.js";function Fe(r,a,...l){var c=new ce(r);Va(()=>{const u=a()??null;c.ensure(u,u&&(d=>u(d,...l)))},Sa)}const qe=()=>performance.now(),B={tick:r=>requestAnimationFrame(r),now:()=>qe(),tasks:new Set};function Ca(){const r=B.now();B.tasks.forEach(a=>{a.c(r)||(B.tasks.delete(a),a.f())}),B.tasks.size!==0&&B.tick(Ca)}function Se(r){let a;return B.tasks.size===0&&B.tick(Ca),{promise:new Promise(l=>{B.tasks.add(a={c:r,f:l})}),abort(){B.tasks.delete(a)}}}function aa(r,a){Ta(()=>{r.dispatchEvent(new CustomEvent(a))})}function Me(r){if(r==="float")return"cssFloat";if(r==="offset")return"cssOffset";if(r.startsWith("--"))return r;const a=r.split("-");return a.length===1?a[0]:a[0]+a.slice(1).map(l=>l[0].toUpperCase()+l.slice(1)).join("")}function ka(r){const a={},l=r.split(";");for(const c of l){const[u,d]=c.split(":");if(!u||d===void 0)break;const _=Me(u.trim());a[_]=d.trim()}return a}const Te=r=>r;function $a(r,a,l,c){var u=(r&ee)!==0,d="both",_,y=a.inert,S=a.style.overflow,p,v;function W(){return Ta(()=>_??=l()(a,c?.()??{},{direction:d}))}var E={is_global:u,in(){a.inert=y,aa(a,"introstart"),p=pa(a,W(),v,1,()=>{aa(a,"introend"),p?.abort(),p=_=void 0,a.style.overflow=S})},out($){a.inert=!0,aa(a,"outrostart"),v=pa(a,W(),p,0,()=>{aa(a,"outroend"),$?.()})},stop:()=>{p?.abort(),v?.abort()}},C=Xa;if((C.transitions??=[]).push(E),Ja){var k=u;if(!k){for(var i=C.parent;i&&(i.f&Sa)!==0;)for(;(i=i.parent)&&(i.f&Ya)===0;);k=!i||(i.f&Za)!==0}k&&Ma(()=>{ae(()=>E.in())})}}function pa(r,a,l,c,u){var d=c===1;if(te(a)){var _,y=!1;return re(()=>{if(!y){var $=a({direction:d?"in":"out"});_=pa(r,$,l,c,u)}}),{abort:()=>{y=!0,_?.abort()},deactivate:()=>_.deactivate(),reset:()=>_.reset(),t:()=>_.t()}}if(l?.deactivate(),!a?.duration)return u(),{abort:K,deactivate:K,reset:K,t:()=>c};const{delay:S=0,css:p,tick:v,easing:W=Te}=a;var E=[];if(d&&l===void 0&&(v&&v(0,1),p)){var C=ka(p(0,1));E.push(C,C)}var k=()=>1-c,i=r.animate(E,{duration:S,fill:"forwards"});return i.onfinish=()=>{i.cancel();var $=l?.t()??1-c;l?.abort();var h=c-$,j=a.duration*Math.abs(h),R=[];if(j>0){var z=!1;if(p)for(var G=Math.ceil(j/16.666666666666668),H=0;H<=G;H+=1){var Q=$+h*W(H/G),U=ka(p(Q,1-Q));R.push(U),z||=U.overflow==="hidden"}z&&(r.style.overflow="hidden"),k=()=>{var I=i.currentTime;return $+h*W(I/j)},v&&Se(()=>{if(i.playState!=="running")return!1;var I=k();return v(I,1-I),!0})}i=r.animate(R,{duration:j,fill:"forwards"}),i.onfinish=()=>{k=()=>c,v?.(c,1-c),u()}},{abort:()=>{i&&(i.cancel(),i.effect=null,i.onfinish=K)},deactivate:()=>{u=K},reset:()=>{c===0&&v?.(1,0)},t:()=>k()}}const Ce=!0,We=!1,nt=Object.freeze(Object.defineProperty({__proto__:null,prerender:Ce,ssr:We},Symbol.toStringTag,{value:"Module"}));function Ee(r){const a=r-1;return a*a*a+1}function Fa(r,{delay:a=0,duration:l=400,easing:c=Ee,axis:u="y"}={}){const d=getComputedStyle(r),_=+d.opacity,y=u==="y"?"height":"width",S=parseFloat(d[y]),p=u==="y"?["top","bottom"]:["left","right"],v=p.map(h=>`${h[0].toUpperCase()}${h.slice(1)}`),W=parseFloat(d[`padding${v[0]}`]),E=parseFloat(d[`padding${v[1]}`]),C=parseFloat(d[`margin${v[0]}`]),k=parseFloat(d[`margin${v[1]}`]),i=parseFloat(d[`border${v[0]}Width`]),$=parseFloat(d[`border${v[1]}Width`]);return{delay:a,duration:l,easing:c,css:h=>`overflow: hidden;opacity: ${Math.min(h*20,1)*_};${y}: ${h*S}px;padding-${p[0]}: ${h*W}px;padding-${p[1]}: ${h*E}px;margin-${p[0]}: ${h*C}px;margin-${p[1]}: ${h*k}px;border-${p[0]}-width: ${h*i}px;border-${p[1]}-width: ${h*$}px;min-${y}: 0`}}var Oe=q('<meta name="viewport" content="width=device-width, initial-scale=1"/>'),Be=q("<a> </a>"),je=q('<div class="weather-day svelte-12qhfyh"><span class="weather-day-name svelte-12qhfyh"> </span> <span class="weather-day-icon svelte-12qhfyh"> </span> <div class="weather-day-temps svelte-12qhfyh"><span class="weather-temp-high svelte-12qhfyh"> </span> <span class="weather-temp-low svelte-12qhfyh"> </span></div></div>'),Ae=q('<div class="weather-backdrop svelte-12qhfyh"></div> <div class="weather-dropdown svelte-12qhfyh"><div class="weather-dropdown-header svelte-12qhfyh"><span>5-Day Forecast</span></div> <div class="weather-dropdown-days svelte-12qhfyh"></div></div>',1),De=q('<div class="weather-indicator-wrapper svelte-12qhfyh"><button type="button" class="weather-indicator svelte-12qhfyh" aria-label="Toggle weather forecast"><span class="text-sm"> </span> <span class="text-xs font-medium font-mono" style="color: var(--text-secondary);"> </span></button> <!></div>'),Le=q('<div class="flex items-center gap-1.5"><span class="text-sm opacity-60">ğŸŒ¡ï¸</span> <span class="text-xs font-medium font-mono" style="color: var(--text-secondary);"> </span></div>'),Pe=q('<div class="flex items-center gap-1.5"><span class="text-sm opacity-60">ğŸ’§</span> <span class="text-xs font-medium font-mono" style="color: var(--text-secondary);"> </span></div>'),Ne=q('<div class="hidden sm:flex items-center gap-3 px-3 py-1.5 rounded-full" style="background: var(--bg-elevated);"><!> <!></div>'),ze=q('<div class="flex items-center gap-2 px-3 py-1.5 rounded-full"><span class="text-sm">ğŸ”¥</span> <span class="text-xs font-medium uppercase tracking-wide hidden sm:inline"> </span></div>'),He=qa('<svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12"></path></svg>'),Ie=qa('<svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M4 6h16M4 12h16M4 18h16"></path></svg>'),Re=q('<a class="block px-4 py-3 rounded-lg text-base font-medium transition-colors"> </a>'),Ge=q('<div class="md:hidden" style="background: var(--bg-primary); border-top: 1px solid var(--bg-hover);"><div class="px-3 py-3 space-y-1"></div></div>'),Ue=q('<div class="min-h-screen" style="background: var(--bg-deep);"><nav class="sticky top-0 z-50 backdrop-blur-md" style="background: rgba(15, 17, 21, 0.85); border-bottom: 1px solid var(--bg-hover);"><div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"><div class="flex items-center justify-between h-16"><a href="/" class="flex items-center gap-3 group"><div class="w-9 h-9 rounded-lg flex items-center justify-center transition-all group-hover:scale-105" style="background: var(--accent);"><span class="text-lg">ğŸº</span></div> <span class="text-lg font-semibold tracking-tight" style="color: var(--text-primary);">Brew<span style="color: var(--accent);">Signal</span></span></a> <div class="hidden md:flex items-center gap-1"></div> <div class="flex items-center gap-3"><!> <!> <!> <div class="flex items-center gap-2 px-3 py-1.5 rounded-full" style="background: var(--bg-elevated);"><span class="w-2 h-2 rounded-full"></span> <span class="text-xs font-medium hidden sm:inline" style="color: var(--text-muted);"> </span></div> <button type="button" class="md:hidden p-2 rounded-lg transition-colors" style="color: var(--text-secondary);" aria-label="Toggle menu"><!></button></div></div></div> <!></nav> <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6"><!></main></div>');function it(r,a){se(a,!0);const l=()=>ue(he,"$page",c),[c,u]=fe();function d(e){return da.config.temp_units==="F"?(e*9/5+32).toFixed(1):e.toFixed(1)}function _(e){return e===null?"--":Math.round(e).toString()}let y=ya(!1),S=ya(!1),p=Z(()=>da.config.ha_enabled&&da.config.ha_heater_entity_id),v=Z(()=>xa.forecast[0]||null);oe(()=>{ye(),me(),_e(3e4),we(1800*1e3)}),ne(()=>{ge(),be(),ke()});function W(){Y(S,!n(S))}function E(){Y(S,!1)}const C=[{href:"/",label:"Dashboard"},{href:"/batches",label:"Batches"},{href:"/recipes",label:"Recipes"},{href:"/devices",label:"Devices"},{href:"/logging",label:"Logging"},{href:"/calibration",label:"Calibration"},{href:"/system",label:"System"}];function k(e,s){return e==="/"?s==="/":s.startsWith(e)}function i(){Y(y,!1)}var $=Ue();de("12qhfyh",e=>{var s=Oe();Ma(()=>{le.title="BrewSignal"}),x(e,s)});var h=o($),j=o(h),R=o(j),z=f(o(R),2);la(z,21,()=>C,va,(e,s)=>{const g=Z(()=>k(n(s).href,l().url.pathname));var m=Be(),M=o(m,!0);t(m),D(()=>{ca(m,"href",n(s).href),pe(m,1,`nav-link ${n(g)?"active":""}`,"svelte-12qhfyh"),F(M,n(s).label)}),x(e,m)}),t(z);var G=f(z,2),H=o(G);{var Q=e=>{var s=De(),g=o(s);g.__click=W;var m=o(g),M=o(m,!0);t(m);var P=f(m,2),b=o(P);t(P),t(g);var T=f(g,2);{var N=O=>{var A=Ae(),V=ve(A);V.__click=E;var ra=f(V,2),_a=f(o(ra),2);la(_a,21,()=>xa.forecast.slice(0,5),va,(Pa,X)=>{var sa=je(),oa=o(sa),Na=o(oa,!0);t(oa);var na=f(oa,2),za=o(na,!0);t(na);var ga=f(na,2),ia=o(ga),Ha=o(ia);t(ia);var ba=f(ia,2),Ia=o(ba);t(ba),t(ga),t(sa),D((Ra,Ga,Ua,Ka)=>{F(Na,Ra),F(za,Ga),F(Ha,`${Ua??""}Â°`),F(Ia,`${Ka??""}Â°`)},[()=>$e(n(X).datetime),()=>wa(n(X).condition),()=>_(n(X).temperature),()=>_(n(X).templow)]),x(Pa,sa)}),t(_a),t(ra),$a(3,ra,()=>Fa,()=>({duration:150})),x(O,A)};L(T,O=>{n(S)&&O(N)})}t(s),D((O,A)=>{ca(g,"aria-expanded",n(S)),F(M,O),F(b,`${A??""}Â°`)},[()=>wa(n(v).condition),()=>_(n(v).temperature)]),x(e,s)};L(H,e=>{n(v)&&e(Q)})}var U=f(H,2);{var I=e=>{var s=Ne(),g=o(s);{var m=b=>{var T=Le(),N=f(o(T),2),O=o(N);t(N),t(T),D((A,V)=>F(O,`${A??""}${V??""}`),[()=>d(w.ambient.temperature),xe]),x(b,T)};L(g,b=>{w.ambient.temperature!==null&&b(m)})}var M=f(g,2);{var P=b=>{var T=Pe(),N=f(o(T),2),O=o(N);t(N),t(T),D(A=>F(O,`${A??""}%`),[()=>w.ambient.humidity.toFixed(0)]),x(b,T)};L(M,b=>{w.ambient.humidity!==null&&b(P)})}t(s),x(e,s)};L(U,e=>{w.ambient&&(w.ambient.temperature!==null||w.ambient.humidity!==null)&&e(I)})}var fa=f(U,2);{var Wa=e=>{var s=ze(),g=o(s),m=f(g,2),M=o(m,!0);t(m),t(s),D(()=>{J(s,`background: ${w.heater.state==="on"?"rgba(239, 68, 68, 0.1)":"var(--bg-elevated)"};`),J(g,`opacity: ${w.heater.state==="on"?1:.4};`),J(m,`color: ${w.heater.state==="on"?"var(--negative)":"var(--text-muted)"};`),F(M,w.heater.state==="on"?"Heating":"Off")}),x(e,s)};L(fa,e=>{n(p)&&w.heater.available&&e(Wa)})}var ea=f(fa,2),ua=o(ea),ha=f(ua,2),Ea=o(ha,!0);t(ha),t(ea);var ta=f(ea,2);ta.__click=()=>Y(y,!n(y));var Oa=o(ta);{var Ba=e=>{var s=He();x(e,s)},ja=e=>{var s=Ie();x(e,s)};L(Oa,e=>{n(y)?e(Ba):e(ja,!1)})}t(ta),t(G),t(R),t(j);var Aa=f(j,2);{var Da=e=>{var s=Ge(),g=o(s);la(g,21,()=>C,va,(m,M)=>{const P=Z(()=>k(n(M).href,l().url.pathname));var b=Re();b.__click=i;var T=o(b,!0);t(b),D(()=>{ca(b,"href",n(M).href),J(b,`color: ${n(P)?"var(--text-primary)":"var(--text-secondary)"}; background: ${n(P)?"var(--bg-elevated)":"transparent"};`),F(T,n(M).label)}),x(m,b)}),t(g),t(s),$a(3,s,()=>Fa,()=>({duration:150})),x(e,s)};L(Aa,e=>{n(y)&&e(Da)})}t(h);var ma=f(h,2),La=o(ma);Fe(La,()=>a.children),t(ma),t($),D(()=>{J(ua,`background: ${w.connected?"var(--positive)":"var(--text-muted)"};`),F(Ea,w.connected?"Live":"Offline")}),x(r,$),ie(),u()}Qa(["click"]);export{it as component,nt as universal};
