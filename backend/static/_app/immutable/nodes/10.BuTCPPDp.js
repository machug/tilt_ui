import{d as Ee,f as d,a as n,c as se,s as p}from"../chunks/jyAcDmWg.js";import{ah as Ge,ap as He,ar as G,aj as Ve,aw as Ue,ak as l,al as r,c as e,ai as Ye,s as u,ao as j,am as qe,an as s,as as g}from"../chunks/DBUEpBwK.js";import{i as _}from"../chunks/Ce0eyuz5.js";import{h as Je}from"../chunks/GnvximVd.js";import{s as Ke,a as Qe}from"../chunks/kcwD9VOY.js";import{g as ve}from"../chunks/G8MAJtI4.js";import{p as We}from"../chunks/sPwC39xh.js";import{f as Xe,d as Ze}from"../chunks/DlMVHRlb.js";const ea=!1,Ra=Object.freeze(Object.defineProperty({__proto__:null,prerender:ea},Symbol.toStringTag,{value:"Module"}));var aa=d('<div class="loading-state svelte-1r2e3yg"><div class="spinner svelte-1r2e3yg"></div> <p>Loading recipe...</p></div>'),ta=d('<div class="error-state svelte-1r2e3yg"><p class="error-message svelte-1r2e3yg"> </p></div>'),ra=d('<p class="recipe-author svelte-1r2e3yg"> </p>'),sa=d('<p class="recipe-type svelte-1r2e3yg"> </p>'),va=d('<div class="param svelte-1r2e3yg"><span class="param-label svelte-1r2e3yg">Original Gravity</span> <span class="param-value svelte-1r2e3yg"> </span></div>'),la=d('<div class="param svelte-1r2e3yg"><span class="param-label svelte-1r2e3yg">Final Gravity</span> <span class="param-value svelte-1r2e3yg"> </span></div>'),ia=d('<div class="param svelte-1r2e3yg"><span class="param-label svelte-1r2e3yg">ABV</span> <span class="param-value svelte-1r2e3yg"> </span></div>'),oa=d('<div class="param svelte-1r2e3yg"><span class="param-label svelte-1r2e3yg">Attenuation</span> <span class="param-value svelte-1r2e3yg"> </span></div>'),na=d('<p class="yeast-name svelte-1r2e3yg"> </p>'),da=d('<p class="yeast-lab svelte-1r2e3yg"> </p>'),ca=d('<p class="yeast-temp svelte-1r2e3yg"> </p>'),pa=d('<div class="section svelte-1r2e3yg"><h2 class="section-title svelte-1r2e3yg">Yeast</h2> <div class="yeast-info svelte-1r2e3yg"><!> <!> <!></div></div>'),_a=d('<div class="detail svelte-1r2e3yg"><span class="detail-label svelte-1r2e3yg">Batch Size</span> <span class="detail-value svelte-1r2e3yg"> </span></div>'),ga=d('<div class="detail svelte-1r2e3yg"><span class="detail-label svelte-1r2e3yg">IBU</span> <span class="detail-value svelte-1r2e3yg"> </span></div>'),ya=d('<div class="detail svelte-1r2e3yg"><span class="detail-label svelte-1r2e3yg">SRM</span> <span class="detail-value svelte-1r2e3yg"> </span></div>'),ua=d('<div class="section svelte-1r2e3yg"><h2 class="section-title svelte-1r2e3yg">Notes</h2> <p class="notes svelte-1r2e3yg"> </p></div>'),ma=d('<div class="recipe-container svelte-1r2e3yg"><div class="recipe-header svelte-1r2e3yg"><div class="header-left svelte-1r2e3yg"><h1 class="recipe-title svelte-1r2e3yg"> </h1> <!> <!></div> <button type="button" class="delete-btn svelte-1r2e3yg"><svg class="icon svelte-1r2e3yg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg> Delete</button></div> <div class="section svelte-1r2e3yg"><h2 class="section-title svelte-1r2e3yg">Fermentation Parameters</h2> <div class="param-grid svelte-1r2e3yg"><!> <!> <!> <!></div></div> <!> <div class="section svelte-1r2e3yg"><h2 class="section-title svelte-1r2e3yg">Batch Details</h2> <div class="details-grid svelte-1r2e3yg"><!> <!> <!></div></div> <!> <div class="section svelte-1r2e3yg"><p class="created-date svelte-1r2e3yg"> </p></div> <div class="actions svelte-1r2e3yg"><button type="button" class="brew-btn svelte-1r2e3yg"><svg class="icon svelte-1r2e3yg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path></svg> Brew This Recipe</button></div></div>'),fa=d('<div class="modal-overlay svelte-1r2e3yg"><div class="modal svelte-1r2e3yg"><h2 class="modal-title svelte-1r2e3yg">Delete Recipe?</h2> <p class="modal-text svelte-1r2e3yg"> </p> <div class="modal-actions svelte-1r2e3yg"><button type="button" class="modal-btn cancel svelte-1r2e3yg">Cancel</button> <button type="button" class="modal-btn delete svelte-1r2e3yg"> </button></div></div></div>'),ha=d('<div class="page-container svelte-1r2e3yg"><div class="back-link svelte-1r2e3yg"><a href="/recipes" class="back-btn svelte-1r2e3yg"><svg class="back-icon svelte-1r2e3yg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M15 19l-7-7 7-7"></path></svg> Back to Recipes</a></div> <!></div> <!>',1);function Ca(le,ie){Ge(ie,!0);const oe=()=>Qe(We,"$page",ne),[ne,de]=Ke();let v=j(null),S=j(!0),w=j(null),$=j(!1),F=j(!1),H=Ye(()=>{const o=parseInt(oe().params.id||"",10);return isNaN(o)||o<=0?null:o});He(async()=>{if(!e(H)){u(w,"Invalid recipe ID"),u(S,!1);return}try{u(v,await Xe(e(H)),!0)}catch(o){u(w,o instanceof Error?o.message:"Failed to load recipe",!0)}finally{u(S,!1)}});async function ce(){if(e(v)){u(F,!0);try{await Ze(e(v).id),ve("/recipes")}catch(o){u(w,o instanceof Error?o.message:"Failed to delete recipe",!0),u(F,!1),u($,!1)}}}function pe(){e(v)&&ve(`/batches/new?recipe_id=${e(v).id}`)}var V=ha();Je("1r2e3yg",o=>{Ue(()=>{qe.title=`${(e(v)?.name||"Recipe")??""} | BrewSignal`})});var I=G(V),_e=l(r(I),2);{var ge=o=>{var b=aa();n(o,b)},ye=o=>{var b=se(),B=G(b);{var D=x=>{var h=ta(),k=r(h),R=r(k,!0);s(k),s(h),g(()=>p(R,e(w))),n(x,h)},T=x=>{var h=se(),k=G(h);{var R=C=>{var z=ma(),A=r(z),L=r(A),N=r(L),fe=r(N,!0);s(N);var U=l(N,2);{var he=a=>{var t=ra(),i=r(t);s(t),g(()=>p(i,`by ${e(v).author??""}`)),n(a,t)};_(U,a=>{e(v).author&&a(he)})}var be=l(U,2);{var xe=a=>{var t=sa(),i=r(t,!0);s(t),g(()=>p(i,e(v).type)),n(a,t)};_(be,a=>{e(v).type&&a(xe)})}s(L);var ke=l(L,2);ke.__click=()=>u($,!0),s(A);var O=l(A,2),Y=l(r(O),2),q=r(Y);{var we=a=>{var t=va(),i=l(r(t),2),c=r(i,!0);s(i),s(t),g(y=>p(c,y),[()=>e(v).og_target.toFixed(3)]),n(a,t)};_(q,a=>{e(v).og_target&&a(we)})}var J=l(q,2);{var $e=a=>{var t=la(),i=l(r(t),2),c=r(i,!0);s(i),s(t),g(y=>p(c,y),[()=>e(v).fg_target.toFixed(3)]),n(a,t)};_(J,a=>{e(v).fg_target&&a($e)})}var K=l(J,2);{var Fe=a=>{var t=ia(),i=l(r(t),2),c=r(i);s(i),s(t),g(y=>p(c,`${y??""}%`),[()=>e(v).abv_target.toFixed(1)]),n(a,t)};_(K,a=>{e(v).abv_target&&a(Fe)})}var Be=l(K,2);{var De=a=>{var t=oa(),i=l(r(t),2),c=r(i);s(i),s(t),g(y=>p(c,`${y??""}%`),[()=>e(v).yeast_attenuation.toFixed(0)]),n(a,t)};_(Be,a=>{e(v).yeast_attenuation&&a(De)})}s(Y),s(O);var Q=l(O,2);{var Re=a=>{var t=pa(),i=l(r(t),2),c=r(i);{var y=m=>{var f=na(),M=r(f,!0);s(f),g(()=>p(M,e(v).yeast_name)),n(m,f)};_(c,m=>{e(v).yeast_name&&m(y)})}var re=l(c,2);{var Ae=m=>{var f=da(),M=r(f,!0);s(f),g(()=>p(M,e(v).yeast_lab)),n(m,f)};_(re,m=>{e(v).yeast_lab&&m(Ae)})}var Le=l(re,2);{var Ne=m=>{var f=ca(),M=r(f);s(f),g((Oe,Pe)=>p(M,`Temperature: ${Oe??""}-${Pe??""}Â°C`),[()=>e(v).yeast_temp_min.toFixed(0),()=>e(v).yeast_temp_max.toFixed(0)]),n(m,f)};_(Le,m=>{e(v).yeast_temp_min!=null&&e(v).yeast_temp_max!=null&&m(Ne)})}s(i),s(t),n(a,t)};_(Q,a=>{(e(v).yeast_name||e(v).yeast_temp_min||e(v).yeast_temp_max)&&a(Re)})}var P=l(Q,2),W=l(r(P),2),X=r(W);{var Ce=a=>{var t=_a(),i=l(r(t),2),c=r(i);s(i),s(t),g(y=>p(c,`${y??""} L`),[()=>e(v).batch_size.toFixed(1)]),n(a,t)};_(X,a=>{e(v).batch_size&&a(Ce)})}var Z=l(X,2);{var Me=a=>{var t=ga(),i=l(r(t),2),c=r(i,!0);s(i),s(t),g(y=>p(c,y),[()=>e(v).ibu_target.toFixed(0)]),n(a,t)};_(Z,a=>{e(v).ibu_target&&a(Me)})}var je=l(Z,2);{var Se=a=>{var t=ya(),i=l(r(t),2),c=r(i,!0);s(i),s(t),g(y=>p(c,y),[()=>e(v).srm_target.toFixed(1)]),n(a,t)};_(je,a=>{e(v).srm_target&&a(Se)})}s(W),s(P);var ee=l(P,2);{var Ie=a=>{var t=ua(),i=l(r(t),2),c=r(i,!0);s(i),s(t),g(()=>p(c,e(v).notes)),n(a,t)};_(ee,a=>{e(v).notes&&a(Ie)})}var E=l(ee,2),ae=r(E),Te=r(ae);s(ae),s(E);var te=l(E,2),ze=r(te);ze.__click=pe,s(te),s(z),g(a=>{p(fe,e(v).name),p(Te,`Created ${a??""}`)},[()=>new Date(e(v).created_at).toLocaleDateString()]),n(C,z)};_(k,C=>{e(v)&&C(R)},!0)}n(x,h)};_(B,x=>{e(w)?x(D):x(T,!1)},!0)}n(o,b)};_(_e,o=>{e(S)?o(ge):o(ye,!1)})}s(I);var ue=l(I,2);{var me=o=>{var b=fa();b.__click=()=>u($,!1);var B=r(b);B.__click=C=>C.stopPropagation();var D=l(r(B),2),T=r(D);s(D);var x=l(D,2),h=r(x);h.__click=()=>u($,!1);var k=l(h,2);k.__click=ce;var R=r(k,!0);s(k),s(x),s(B),s(b),g(()=>{p(T,`Are you sure you want to delete "${e(v)?.name??""}"? This cannot be undone.`),h.disabled=e(F),k.disabled=e(F),p(R,e(F)?"Deleting...":"Delete Recipe")}),n(o,b)};_(ue,o=>{e($)&&o(me)})}n(le,V),Ve(),de()}Ee(["click"]);export{Ca as component,Ra as universal};
