const o="/api",c=[{label:"1H",hours:1},{label:"6H",hours:6},{label:"24H",hours:24},{label:"7D",hours:168},{label:"30D",hours:720}];async function i(e,t=24){const s=await fetch(`${o}/tilts/${e}/readings?hours=${t}&limit=5000`);if(!s.ok)throw new Error(`Failed to fetch readings: ${s.statusText}`);return s.json()}async function h(e=24){const t=await fetch(`${o}/ambient/history?hours=${e}`);if(!t.ok)throw new Error("Failed to fetch ambient history");return t.json()}async function f(){const e=await fetch(`${o}/control/heater-entities`);if(!e.ok)throw new Error(`Failed to fetch heater entities: ${e.statusText}`);return e.json()}async function p(e){const t=await fetch(`${o}/control/batch/${e}/status`);if(!t.ok)throw new Error(`Failed to fetch batch control status: ${t.statusText}`);return t.json()}async function u(e,t,s=60){return(await fetch(`${o}/control/override`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({state:t,duration_minutes:s,batch_id:e})})).json()}async function d(e,t,s=50,n=0){const a=new URLSearchParams;e&&a.append("status",e),t&&a.append("device_id",t),a.append("limit",String(s)),a.append("offset",String(n));const r=await fetch(`${o}/batches?${a}`);if(!r.ok)throw new Error(`Failed to fetch batches: ${r.statusText}`);return r.json()}async function w(e){const t=await fetch(`${o}/batches/${e}`);if(!t.ok)throw new Error(`Failed to fetch batch: ${t.statusText}`);return t.json()}async function l(e){const t=await fetch(`${o}/batches`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw new Error(`Failed to create batch: ${t.statusText}`);return t.json()}async function $(e,t){const s=await fetch(`${o}/batches/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!s.ok)throw new Error(`Failed to update batch: ${s.statusText}`);return s.json()}async function b(e){const t=await fetch(`${o}/batches/${e}`,{method:"DELETE"});if(!t.ok)throw new Error(`Failed to delete batch: ${t.statusText}`)}async function y(e){const t=await fetch(`${o}/batches/${e}/progress`);if(!t.ok)throw new Error(`Failed to fetch batch progress: ${t.statusText}`);return t.json()}async function E(e=50,t=0){const s=await fetch(`${o}/recipes?limit=${e}&offset=${t}`);if(!s.ok)throw new Error(`Failed to fetch recipes: ${s.statusText}`);return s.json()}async function T(e){const t=await fetch(`${o}/recipes/${e}`);if(!t.ok)throw new Error(`Failed to fetch recipe: ${t.statusText}`);return t.json()}async function m(e){const t=new FormData;t.append("file",e);const s=await fetch(`${o}/recipes/import`,{method:"POST",body:t});if(!s.ok){const n=await s.json().catch(()=>({detail:s.statusText}));throw new Error(n.detail||"Failed to import recipe")}return s.json()}async function j(e){const t=await fetch(`${o}/recipes/${e}`,{method:"DELETE"});if(!t.ok)throw new Error(`Failed to delete recipe: ${t.statusText}`)}export{c as T,y as a,p as b,l as c,b as d,T as e,w as f,j as g,d as h,m as i,E as j,f as k,i as l,h as m,u as s,$ as u};
